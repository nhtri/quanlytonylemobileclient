<nb-card>
    <nb-card-header>
        Quản Lý Thu<a style="color: #2e61fa ;font-weight: 300; margin-left: 80px;" (click)="exportexcel()"> Tải Danh
            Sách Quản Lý Thu</a>

    </nb-card-header>

    <nb-card-header>
        <div style="color:#2e61fa">* Tiền mặt: {{tienmat| productPrice}}</div>
        <div style="color:#2e61fa">* Daibiki: {{daibiki| productPrice}}</div>
        <div style="color:#2e61fa">* Chuyển khoản: {{chuyenkhoan| productPrice}}</div>
    </nb-card-header>
    <nb-card-header>
        <div style="color:blue; font-weight: 600;">Tổng thu: {{totalmoney| productPrice}}</div>
    </nb-card-header>

    <nb-card-body>
        <div style="display: flex;">
            <input type="date" style="height: 28px; width: 150px; border-radius: 5px;" [(ngModel)]="date">
            <input type="text" [(ngModel)]="sotien"
                style="margin-left: 25px; height: 28px; width: 150px; border-radius: 5px;" placeholder="Số tiền">
            <input type="text" [(ngModel)]="mucdich"
                style=" margin-left: 25px; height: 28px; width: 320px; border-radius: 5px;" placeholder="Mục đích">
            <select (change)="selecthinhthucthanhtoan($event)"
                style="margin-left: 25px; height: 28px;width: 140px;border-radius: 5px;border-color: #809ffc;" [(ngModel)]="hinhthuc">
                <option value="default">Hình thức thu</option>
                <option value="tienmat">Tiền mặt</option>
                <option value="chuyenkhoan">Chuyển khoản</option>
                <option value="daibiki">Daibiki</option>

            </select>
            <button (click)="hoantat()"
                style="margin-left: 25px; height: 28px;width: 120px;border-radius: 5px;border-color: #862efa;color: white;background-color: #595cf5;font-weight: 300;">
                Hoàn Tất</button>
        </div>

        <br><br>
        <table class="styled-table" id="excel-table">


            <thead>
                <tr>
                    <th>Id</th>
                    <th style="width: 400px;">Ngày tạo</th>
                    <th>Số tiền</th>
                    <th>Mục đích</th>
                    <th>Hình thức thanh toán</th>
                    <th style="width: 30px;"></th>
                    <th style="width: 30px;"></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td style="width: 400px;"><input type="date" style="margin-right: 5px;" [(ngModel)]="date1"
                            (change)="change1()">-<input type="date" style="margin-left: 5px;" [(ngModel)]="date2"
                            (change)="change2()">  <i class="fa fa-refresh" style="font-size:18px ;margin-left: 15px;" (click)="refresh()"></i>
                        </td>
                    <td></td>
                    <td></td>
                    <td> <select (change)="selecthinhthucthanhtoanfilter($event)"
                            style="height: 28px;width: 140px;border-radius: 5px;border-color: #809ffc;">
                            <option value="default">Hình thức thu</option>
                            <option value="tienmat">Tiền mặt</option>
                            <option value="chuyenkhoan">Chuyển khoản</option>
                            <option value="daibiki">Daibiki</option>
                        </select>
                    </td>
                    <td></td>

                </tr>
                <tr *ngFor="let sanpham of data">
                    <td>{{sanpham.id}}</td>
                    <td>{{sanpham.ngaytao| date: 'dd/MM/yyyy'}}</td>
                    <td>{{sanpham.sotien | productPrice }}</td>
                    <td>{{sanpham.mucdich}}</td>
                    <!-- <td>{{sanpham.hinhthucthanhtoan}}</td> -->

                    <td *ngIf="sanpham.hinhthucthanhtoan == 'tienmat'">Tiền Mặt</td>
                    <td *ngIf="sanpham.hinhthucthanhtoan == 'daibiki'">Daibiki</td>
                    <td *ngIf="sanpham.hinhthucthanhtoan == 'chuyenkhoan'">Chuyển Khoản</td>
                    <td *ngIf="sanpham.tienmat != 0">Tiền Mặt</td>
                    <td *ngIf="sanpham.daikibi != 0">Daibiki</td>
                    <td *ngIf="sanpham.chuyenkhoan != 0">Chuyển Khoản</td>
                    <td><i class="fa fa-edit" style="font-size:18px;color:darkblue; width: 30px;"
                            (click)="edit(sanpham.id,sanpham.ngaytao,sanpham.sotien,sanpham.mucdich,sanpham.hinhthucthanhtoan)"></i></td>
                    <td><i class="fa fa-trash" style="font-size:18px;color:tomato; width: 30px;"
                            (click)="delete(sanpham.id)"></i>
                    </td>

                </tr>

            </tbody>
        </table>
        <br />

    </nb-card-body>

    <!-- <nb-card-footer>
        <div style="color:#2e61fa">* Tiền mặt: {{tienmat| productPrice}}</div>
        <div style="color:#2e61fa">* Daibiki: {{daibiki| productPrice}}</div>
        <div style="color:#2e61fa">* Chuyển khoản: {{chuyenkhoan| productPrice}}</div>
    </nb-card-footer>
    <nb-card-footer>
        <div style="color:blue; font-weight: 600;">Tổng thu: {{totalmoney| productPrice}}</div>
    </nb-card-footer> -->
</nb-card>
