<nb-card>
    <nb-card-header>
        DANH SÁCH HÀNG CHUYỂN ĐI
    </nb-card-header>

    <nb-card-body>
        <div class="row filter-input-group customer-search">
            <div class="col-9 col-md-9 form-inline">
                <input type="text" [(ngModel)]="outgoingTransferProductsFilter.imei" required id="searchImeiText"
                       placeholder="IMEI" (ngModelChange)="onSearchOutgoingProducts($event)" class="filter-text form-control"
                       name="searchImeiText" />
                <p-calendar
                        [inputStyleClass]="'form-control'"
                        [styleClass]="'my-calendar birthday-calendar'"
                        placeholder="Ngày Chuyển"
                        [(ngModel)]="outgoingTransferProductsFilter.transfer_date"
                        dateFormat="dd-mm-yy"
                        (ngModelChange)="onSearchOutgoingProducts($event)"
                        [ngModelOptions]="{standalone: true}"
                        [monthNavigator]="true"
                        [yearNavigator]="true"
                        [showButtonBar]="true"
                        #birthdayValidate="ngModel"
                >
                </p-calendar>
            </div>
        </div>

        <p-table dataKey="id" editMode="row" #tt [value]="data" [paginator]="true"
                 [rows]="20" [tableStyleClass]="'kai-styled-table'" [tableStyle]="{'table-layout':'auto'}">

            <ng-template pTemplate="header" let-columns class=" text-primary">
                <tr>
                    <th></th>
                    <th>Số IMEI</th>
                    <th>Kho Đích</th>
                    <th>Ngày Chuyển</th>
                    <th>Trạng Thái</th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template let-i="rowIndex" pTemplate="body" let-rowData let-columns="columns"
                         let-editing="editing" let-ri="rowIndex">
                <tr [pEditableRow]="rowData">
                    <td>{{i + 1}}</td>
                    <td>{{rowData.imei}}</td>
                    <td>{{rowData.to_position | positionTitle}}</td>
                    <td>{{rowData.transfer_date | date: dateFormat}}</td>
                    <td>{{rowData.transfer_status | outgoingTransferStatus}}</td>
                    <td>
                        <button pButton (click)="onTransferProduct($event, rowData)" type="button" class="btn p-button-sm p-button-info p-1"><nb-icon icon="checkmark-outline"></nb-icon></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </nb-card-body>
</nb-card>
